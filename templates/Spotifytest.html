<!--program to display spotify page-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spotify Playlist Generator</title>
      <script>
          function playlist_act(){
              document.getElementById("test_actual").innerHTML = table2;
          }
      </script>
</head>
<body>
<!-- Main form starts here-->
    <h2>Create a randomized playlist by selecting a genre and entering a duration of time.</h2>

    <!--  <form action="/action_page.php"> -->
<script language="JavaScript">
    function showInput() {
        document.getElementById('display').innerHTML = document.getElementById("genres").value;
    }
  </script>

<!--<form action="result_spotify.html" method="GET">-->
<form action="" method="POST">
<!-- Dropdown menu for selecting playlist genre-->
  <label for="genres">Select a genre:</label>
  <!--<select name="genres" id="genres" required>
    <option value="edm">EDM</option>
    <option value="jazz">Jazz</option>
    <option value="rock">Rock</option>
    <option value="soul">Soul</option>
  </select> -->
    <p>
  <select name ="genres" id="selectNumber" required>
    <script>
        var select = document.getElementById("selectNumber");
        var options = {{ l_genres | safe }};
        for(var i = 0; i < options.length; i++) {
            var opt = options[i];
            var el = document.createElement("option");
            el.textContent = opt;
            el.value = opt;
            select.appendChild(el);
        }
    </script>
  </select>
    </p>
  <!-- Textbox for entering playlist duration -->
    <p>
        <label for="quantity">Playlist Duration (at least 5 minutes):</label>
        <input type="number" id="quantity" name="quantity" min="5" required>
    </p>

    <p>
        <input type="submit" value="Submit" onclick="playlist_act()">
    </p>


</form>
<div>
<br><br>
<p id="test_actual">
    <script>
        var tra = {{ ch | safe }};
        console.log(tra);
        var len2 =  Object.keys(tra.album).length;  //Object.keys(tra).length;
        console.log(len2);
        var table2 = "<table border='2'>";
        table2 += "<tr><th>Track</th><th>Artist</th><th>Album</th></tr>";

        for (var i = 0; i < len2; i++) {
            table2 += "<tr><td>" + tra.track[i] + "</td>";
            table2 += "<td>" + tra.artist[i] + "</td>";
            table2 += "<td>" + tra.album[i] + "</td></tr>";
        }
        table2 += "</table>";
        playlist_act();

    </script>
</p>
</div>



</body>
</html>
